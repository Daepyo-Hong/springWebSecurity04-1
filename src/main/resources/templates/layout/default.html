<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:fragment="commonHead">
	<meta charset="UTF-8">
	<title>Insert title here</title>
	<link rel="stylesheet" href="/css/commons/common.css">
</head>


<header th:fragment="menu">
	<h1>공통메뉴</h1>
	<div class="wrap flex">
		<a href="/">HOME</a>
		<span sec:authorize="isAnonymous()" >
			<a href="/signup">회원가입</a>
			<a  href="/signin">로그인</a>
		</span>
		<span class="flex" sec:authorize="isAuthenticated()">
			<!--/*<span th:if="${#authorization.expr('isAuthenticated()')}"  th:text="${#authentication.name +'('+#authentication.principal.nick+')' }"></span>*/-->
			<span th:if="${#authorization.expr('isAuthenticated()')}"  th:text="${#authentication.name}"></span>
			<form  action="/signout" method="post">
				<input type="hidden" th:name="${_csrf.parameterName}"
					   th:value="${_csrf.token}" />
				<button>로그아웃</button>
			</form>
		</span>
	</div>
</header>
</html>